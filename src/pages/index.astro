---
import { ClientRouter } from 'astro:transitions'
import '../style/global.css'
---

<html lang="zh-cn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Stack Gallery</title>
  <ClientRouter />
</head>
<body>
  <button class="toggle-button">切换</button>
  <div class="image-stack">
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/03_1ecJ4T.webp" class="image-item" alt="img" draggable="false" />
    </div>
    <div class="image-wrapper">
      <img src="https://retypeset.radishzz.cc/_astro/06_1gNyMD.webp" class="image-item" alt="img" draggable="false" />
    </div>
  </div>
</body>
</html>

<style>
.image-stack {
  height: 100vh;
  height: 100dvh;
  width: 100vw;
  display: flex;
  align-items: center;
  justify-content: center;
  --wrapper-size: calc(45.6px + 6vw);   /* 150px | 67.2px */
  contain: layout paint style;
}
.image-stack.expanded {
  --wrapper-size: calc(76px + 10vw); /* 250px | 112px */
}

.image-wrapper {
  pointer-events: none;
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-index);
  width: var(--wrapper-size);
  height: var(--wrapper-size);
  transform: translate3d(var(--translate-x, 0), var(--translate-y, 0), 0);
  transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1),
              width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              height 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform width height;
  contain: layout style;
}
.image-stack.expanded:not(.switching) .image-wrapper {
  transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              height 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
.image-wrapper:has(.image-item.center.zoomed) {
  transform: translate3d(0, 0, 0);
}

.image-item {
  pointer-events: auto;
  max-height: 100%;
  max-width: 100%;
  user-select: none;
  object-fit: contain;
  transform: perspective(5000px) rotateX(-45deg) rotateY(-45deg) scale(1);
  transition: transform 0.5s cubic-bezier(0.645, 0.045, 0.355, 1);
  will-change: transform;
  backface-visibility: hidden;
}
.image-item.center {
  cursor: zoom-in;
  transform: perspective(5000px) rotateX(-45deg) rotateY(-45deg) scale(1.2);
}
.image-item.center.zoomed {
  cursor: zoom-out;
  transform: perspective(800px) rotateX(0deg) rotateY(0deg) scale(3.2);
}
</style>

<script>
const config = {
  // Stack
  stackSlope: 0.6,
  gapVariance: 0.6,
  stackGap: 6,

  // Scale
  scaleFactor: 3,
  // groupGap: 300 | 134,
  get groupGap() {
    return 90.3 + 12.14 * (window.innerWidth / 100)
  },

  // Wheel
  damping: 0.92,
  sensitivity: 0.0007,
  momentumThreshold: 0.0001,
} as const

// Platform detection
const isMacOS = navigator.platform.includes('Mac') || (navigator as any).userAgentData?.platform === 'macOS'

// Constants definition
const offsetCache = new Map()
const denominator = Math.sqrt(1 + config.stackSlope * config.stackSlope)
const baseOffsetX = config.stackGap / denominator
const baseOffsetY = baseOffsetX * config.stackSlope
const layoutOffsets = {
  normal: {
    offsetX: baseOffsetX,
    offsetY: baseOffsetY,
  },
  expanded: {
    offsetX: baseOffsetX * config.scaleFactor,
    offsetY: baseOffsetY * config.scaleFactor,
  },
}

// DOM elements
let imageStack: HTMLElement | null = null
let wrappers: NodeListOf<HTMLElement> | null = null
let centerImage: HTMLImageElement | null = null

// State variables
let centerIndex = 0
let scrollIndex = 0
let momentum = 0
let animationId = 0
let maxIndex = 0
let savedIndex = 0

// Touch state variables
const touchState = {
  startY: 0,
  startTime: 0,
  isActive: false,
}

// Get cached random offsets for natural positioning
function getRandomOffsets(index: number) {
  const cachedOffsets = offsetCache.get(index)
  if (cachedOffsets) {
    return cachedOffsets
  }

  const maxOffset = config.stackGap * config.gapVariance
  const randomOffsets = {
    x: (Math.random() - 0.5) * maxOffset,
    y: (Math.random() - 0.5) * maxOffset,
  }

  offsetCache.set(index, randomOffsets)
  return randomOffsets
}

// Calculate and apply wrapper position with transforms
function positionWrapper(
  wrapper: HTMLElement,
  index: number,
  centerIndex: number,
  offsetX: number,
  offsetY: number,
  scale: number,
  isExpanded: boolean = false,
  groupGapMultiplier: number = 1,
) {
  const distance = index - centerIndex
  const sign = Math.sign(distance)
  const abs = Math.abs(distance)
  const randomOffsets = getRandomOffsets(index)

  let x = sign * offsetX * abs + randomOffsets.x * scale
  let y = -sign * offsetY * abs + randomOffsets.y * scale

  if (isExpanded && distance !== 0) {
    const groupGap = config.groupGap * groupGapMultiplier
    x += sign * groupGap
    y -= sign * groupGap * config.stackSlope
  }

  wrapper.style.setProperty('--translate-x', `${x}px`)
  wrapper.style.setProperty('--translate-y', `${y}px`)
}

// Switch center image reference and styling
function switchCenterImage() {
  centerImage?.classList.remove('center')
  centerImage = wrappers?.[centerIndex]?.querySelector('.image-item') ?? null
}

// Reset center image to middle position
function resetCenterImage() {
  if (!wrappers) {
    return
  }

  const defaultCenterIndex = Math.floor(wrappers.length / 2)
  centerIndex = defaultCenterIndex
  scrollIndex = defaultCenterIndex
  momentum = 0

  switchCenterImage()
}

// Update all wrapper positions based on current state
function updateWrapperPositions() {
  if (!wrappers || !imageStack) {
    return
  }

  const isExpanded = imageStack.classList.contains('expanded')
  const groupGapMultiplier = document.querySelector('.image-item.zoomed') ? 2 : 1

  const { offsetX, offsetY } = layoutOffsets[isExpanded ? 'expanded' : 'normal']
  const scale = isExpanded ? config.scaleFactor : 1

  if (centerImage) {
    centerImage.classList.toggle('center', isExpanded)
  }

  wrappers.forEach((wrapper, index) => {
    positionWrapper(
      wrapper,
      index,
      centerIndex,
      offsetX,
      offsetY,
      scale,
      isExpanded,
      groupGapMultiplier,
    )
  })
}

// Unified scroll input handler for both wheel and touch
function handleScrollInput(deltaY: number, sensitivity: number = 1) {
  if (!imageStack?.classList.contains('expanded') || !wrappers) {
    return
  }

  if (centerImage?.classList.contains('zoomed')) {
    centerImage.classList.remove('zoomed')
    updateWrapperPositions()
  }

  const scrollInput = deltaY * config.sensitivity * sensitivity * (isMacOS ? -1 : 1)
  momentum += scrollInput

  if (!animationId) {
    animationId = requestAnimationFrame(animateMomentumScroll)
  }
}

// Animate momentum-based scrolling with damping
function animateMomentumScroll() {
  if (Math.abs(momentum) <= config.momentumThreshold) {
    animationId = 0
    momentum = 0
    return
  }

  const momentumFactor = Math.min(Math.abs(momentum) * 10, 1)
  const damping = config.damping + (1 - config.damping) * momentumFactor * 0.3

  momentum *= damping
  scrollIndex += momentum

  if (scrollIndex < 0) {
    scrollIndex = 0
    momentum = 0
  }
  else if (scrollIndex > maxIndex) {
    scrollIndex = maxIndex
    momentum = 0
  }

  const newIndex = Math.round(scrollIndex)
  if (newIndex !== centerIndex) {
    centerIndex = newIndex
    switchCenterImage()
    updateWrapperPositions()
  }

  if (Math.abs(momentum) <= config.momentumThreshold) {
    animationId = 0
    return
  }

  animationId = requestAnimationFrame(animateMomentumScroll)
}

// Initialize stack layout and event handlers
function setupStackLayout() {
  imageStack = document.querySelector('.image-stack') as HTMLElement
  wrappers = document.querySelectorAll('.image-wrapper') as NodeListOf<HTMLElement>

  const wrapperCount = wrappers.length
  if (wrapperCount === 0) {
    return
  }

  centerIndex = Math.floor(wrapperCount / 2)
  maxIndex = wrapperCount - 1
  scrollIndex = centerIndex
  momentum = 0
  savedIndex = centerIndex

  wrappers.forEach((wrapper, index) => {
    wrapper.style.setProperty('--z-index', `${wrapperCount - index}`)
  })

  switchCenterImage()
  updateWrapperPositions()
}

// Cleanup state and animations
function cleanup() {
  if (animationId) {
    cancelAnimationFrame(animationId)
    animationId = 0
  }

  wrappers = null
  imageStack = null
  centerImage = null

  centerIndex = 0
  scrollIndex = 0
  momentum = 0
  maxIndex = 0
  savedIndex = 0

  offsetCache.clear()
}

// Handle global click events
function handleGlobalClick(e: MouseEvent) {
  const target = e.target as HTMLElement

  if (target instanceof HTMLImageElement && target.matches('.image-item')) {
    if (target === centerImage) {
      target.classList.toggle('zoomed')
      updateWrapperPositions()
    }
    return
  }

  if (target instanceof HTMLButtonElement && target.matches('.toggle-button')) {
    if (!imageStack) {
      return
    }

    if (centerImage?.classList.contains('zoomed')) {
      centerImage.classList.remove('zoomed')
      updateWrapperPositions()
    }

    const wasExpanded = imageStack.classList.contains('expanded')
    imageStack.classList.toggle('expanded')
    imageStack.classList.add('switching')

    setTimeout(() => {
      imageStack?.classList.remove('switching')
    }, 600)

    if (wasExpanded) {
      savedIndex = centerIndex
      resetCenterImage()
    }
    else {
      centerIndex = savedIndex
      scrollIndex = savedIndex
      momentum = 0
      switchCenterImage()
    }

    updateWrapperPositions()
  }
}

// Handle touch events for mobile devices
function handleTouchStart(e: TouchEvent) {
  if (!imageStack?.classList.contains('expanded') || !wrappers) {
    return
  }

  touchState.startY = e.touches[0].clientY
  touchState.startTime = Date.now()
  touchState.isActive = true
}

function handleTouchMove(e: TouchEvent) {
  if (!touchState.isActive) {
    return
  }

  e.preventDefault() // 阻止默认滚动

  const currentY = e.touches[0].clientY
  const deltaY = touchState.startY - currentY

  handleScrollInput(deltaY, 0.5) // 降低触摸灵敏度

  // 更新起始位置（用于连续滑动）
  touchState.startY = currentY
  touchState.startTime = Date.now()
}

function handleTouchEnd() {
  touchState.isActive = false
}

// Handle global scroll events
function handleGlobalScroll(e: WheelEvent) {
  e.preventDefault()
  handleScrollInput(e.deltaY, 1)
}

document.addEventListener('astro:before-swap', () => cleanup())
document.addEventListener('astro:page-load', () => setupStackLayout())
document.addEventListener('click', handleGlobalClick, { passive: true })
document.addEventListener('touchstart', handleTouchStart, { passive: false })
document.addEventListener('touchmove', handleTouchMove, { passive: false })
document.addEventListener('touchend', handleTouchEnd, { passive: true })
document.addEventListener('wheel', handleGlobalScroll, { passive: false })
setupStackLayout()
</script>